# Mosquitto minimal configuration for this compose setup

# Persistence
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest file /mosquitto/log/mosquitto.log

# Default MQTT listener
listener 1883

# Websockets listener (mapped in docker-compose)
listener 9001
protocol websockets

# Security: disable anonymous and use a password file
allow_anonymous false
# The password file is expected at /mosquitto/config/passwd (host: ./mqtt/config/passwd)
password_file /mosquitto/config/passwd

# You can add access control (ACL) file if needed:
# acl_file /mosquitto/config/acl